<!DOCTYPE html>
<html>
<head>
  <title>W3.CSS Template</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
  body,h1 {font-family: "Raleway", sans-serif}
  body, html {height: 100%}
  </style>
  <script language='javascript'>
        function helper (query) {
          var iframe = document.getElementsByTagName('iframe')[0];
          console.log(iframe);
          var url = iframe.src;
          getData(url, query);
        }
        var loadHTML = function (html) {
          var iframe = document.getElementsByTagName('iframe')[0];

          iframe.src = 'about:blank';
          iframe.contentWindow.document.open();
          iframe.contentWindow.document.write(html.replace(/<head>/i, '<head><base href="' + url + '"><scr' + 'ipt>document.addEventListener("click", function(e) { if(e.target && e.target.nodeName == "A") { e.preventDefault(); parent.loadURL(e.target.href); } });</scr' + 'ipt>'));
          iframe.contentWindow.document.close();
        };
        var getData = function(url, data) {
          if (data && data.query && data.query.results && data.query.results.resources && data.query.results.resources.content && data.query.results.resources.status == 200) loadHTML(data.query.results.resources.content);
          else if (data && data.error && data.error.description) loadHTML(data.error.description);
          else loadHTML('Error: Cannot load ' + url);
        };
        // var loadURL = function (src) {
        //   url = src;
        //   var script = document.createElement('script');
        //   // data = 'https://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20data.headers%20where%20url%3D%22' + encodeURIComponent(url) + '%22&format=json&diagnostics=true&env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys';
        //   script.src = 'http://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20data.headers%20where%20url%3D%22' + encodeURIComponent(url) + '%22&format=json&diagnostics=true&env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys&callback=getData1';
        //   document.body.appendChild(script);
        // };
        //
        // loadURL(iframe.src);

  </script>
  <script src='http://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20data.headers%20where%20url%3D%22' + encodeURIComponent(https://stackoverflow.com/questions/tagged/java?sort=frequent&pageSize=15) + '%22&format=json&diagnostics=true&env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys&callback=helper'>
  </script>
</head>
<body>
  <div>
    <h1>Welcome : <%= profile.username %></h1>
    <hr  style="margin:auto;width:40%">
    <p>Thank you for using this shitty website.</p>
  </div>
  <div>
     <button type="button" onclick="location.href='http://google.com';" value='stackoverflow'>Stackoverflow</button>
     <button type="button">Visualization</button>
     <button type="button">Logout</button>
  </div>
  <br />
  <div>
    <iframe id='showContect' src="https://stackoverflow.com/questions/tagged/java?sort=frequent&pageSize=15" style="width:95%; height: 400px;">
  </div>

</body>
</html>
